{"version":3,"file":"OrderableDocumentList.js","names":["OrderableDocumentList","Component","constructor","props","showIncrements","setState","state","resetOrder","resetOrderTransaction","status","title","closable","update","options","type","reorderWasSuccessful","results","length","render","filter","params","PropTypes","shape","string","object","isRequired"],"sources":["../src/OrderableDocumentList.js"],"sourcesContent":["import PropTypes from 'prop-types'\nimport React, {Component} from 'react'\n\nimport DocumentListWrapper from './DocumentListWrapper'\nimport {resetOrder} from './helpers/resetOrder'\n\n// Must use a Class Component here so the actionHandlers can be called\nexport default class OrderableDocumentList extends Component {\n  static propTypes = {\n    options: PropTypes.shape({\n      type: PropTypes.string,\n      filter: PropTypes.string,\n      params: PropTypes.object,\n    }).isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      showIncrements: false,\n      resetOrderTransaction: {},\n    }\n  }\n\n  actionHandlers = {\n    showIncrements: () => {\n      this.setState((state) => ({\n        showIncrements: !state.showIncrements,\n      }))\n    },\n\n    resetOrder: async () => {\n      this.setState(() => ({\n        resetOrderTransaction: {\n          status: `info`,\n          title: `Reordering started...`,\n          closable: true,\n        },\n      }))\n\n      const update = await resetOrder(this.props.options.type)\n\n      const reorderWasSuccessful = update?.results?.length\n\n      this.setState(() => ({\n        resetOrderTransaction: {\n          status: reorderWasSuccessful ? `success` : `info`,\n          title: reorderWasSuccessful\n            ? `Reordered ${update.results.length === 1 ? `Document` : `Documents`}`\n            : `Reordering failed`,\n          closable: true,\n        },\n      }))\n    },\n  }\n\n  render() {\n    return (\n      <DocumentListWrapper\n        type={this?.props?.options?.type}\n        filter={this?.props?.options?.filter}\n        params={this?.props?.options?.params}\n        showIncrements={this.state.showIncrements}\n        resetOrderTransaction={this.state.resetOrderTransaction}\n      />\n    )\n  }\n}\n"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AACA;;;;;;;;;;;;;;AAEA;AACe,MAAMA,qBAAN,SAAoCC,gBAApC,CAA8C;EAS3DC,WAAW,CAACC,KAAD,EAAQ;IAAA;;IACjB,MAAMA,KAAN,CADiB;IAAA;;IAAA,wCAQF;MACfC,cAAc,EAAE,MAAM;QACpB,KAAKC,QAAL,CAAeC,KAAD,KAAY;UACxBF,cAAc,EAAE,CAACE,KAAK,CAACF;QADC,CAAZ,CAAd;MAGD,CALc;MAOfG,UAAU;QAAA,qCAAE,aAAY;UAAA;;UACtB,KAAI,CAACF,QAAL,CAAc,OAAO;YACnBG,qBAAqB,EAAE;cACrBC,MAAM,QADe;cAErBC,KAAK,yBAFgB;cAGrBC,QAAQ,EAAE;YAHW;UADJ,CAAP,CAAd;;UAQA,IAAMC,MAAM,SAAS,IAAAL,uBAAA,EAAW,KAAI,CAACJ,KAAL,CAAWU,OAAX,CAAmBC,IAA9B,CAArB;UAEA,IAAMC,oBAAoB,GAAGH,MAAH,aAAGA,MAAH,0CAAGA,MAAM,CAAEI,OAAX,oDAAG,gBAAiBC,MAA9C;;UAEA,KAAI,CAACZ,QAAL,CAAc,OAAO;YACnBG,qBAAqB,EAAE;cACrBC,MAAM,EAAEM,oBAAoB,qBADP;cAErBL,KAAK,EAAEK,oBAAoB,uBACVH,MAAM,CAACI,OAAP,CAAeC,MAAf,KAA0B,CAA1B,2BADU,uBAFN;cAKrBN,QAAQ,EAAE;YALW;UADJ,CAAP,CAAd;QASD,CAtBS;;QAAA;UAAA;QAAA;;QAAA;MAAA;IAPK,CARE;;IAEjB,KAAKL,KAAL,GAAa;MACXF,cAAc,EAAE,KADL;MAEXI,qBAAqB,EAAE;IAFZ,CAAb;EAID;;EAkCDU,MAAM,GAAG;IAAA;;IACP,oBACE,6BAAC,4BAAD;MACE,IAAI,EAAE,IAAF,aAAE,IAAF,sCAAE,KAAMf,KAAR,uEAAE,YAAaU,OAAf,wDAAE,oBAAsBC,IAD9B;MAEE,MAAM,EAAE,IAAF,aAAE,IAAF,uCAAE,KAAMX,KAAR,yEAAE,aAAaU,OAAf,yDAAE,qBAAsBM,MAFhC;MAGE,MAAM,EAAE,IAAF,aAAE,IAAF,uCAAE,KAAMhB,KAAR,yEAAE,aAAaU,OAAf,yDAAE,qBAAsBO,MAHhC;MAIE,cAAc,EAAE,KAAKd,KAAL,CAAWF,cAJ7B;MAKE,qBAAqB,EAAE,KAAKE,KAAL,CAAWE;IALpC,EADF;EASD;;AA3D0D;;;;gBAAxCR,qB,eACA;EACjBa,OAAO,EAAEQ,kBAAA,CAAUC,KAAV,CAAgB;IACvBR,IAAI,EAAEO,kBAAA,CAAUE,MADO;IAEvBJ,MAAM,EAAEE,kBAAA,CAAUE,MAFK;IAGvBH,MAAM,EAAEC,kBAAA,CAAUG;EAHK,CAAhB,EAINC;AALc,C"}