{"version":3,"file":"orderableDocumentListDeskItem.js","names":["orderableDocumentListDeskItem","config","type","Error","filter","params","title","icon","id","listTitle","listId","listIcon","SortIcon","typeTitle","schema","get","S","listItem","child","Object","assign","documentTypeList","serialize","__preserveInstance","key","component","OrderableDocumentList","options","menuItems","menuItem","intent","GenerateIcon","action"],"sources":["../../src/desk-structure/orderableDocumentListDeskItem.js"],"sourcesContent":["import S from '@sanity/desk-tool/structure-builder'\nimport {SortIcon, GenerateIcon} from '@sanity/icons'\nimport schema from 'part:@sanity/base/schema'\n\nimport OrderableDocumentList from '../OrderableDocumentList'\n\nexport function orderableDocumentListDeskItem(config = {}) {\n  if (!config?.type) {\n    throw new Error(`\n    \"type\" not defined in orderableDocumentListDeskItem parameters.\n    \\n\\n\n    Example: orderableDocumentListDeskItem({type: 'category'})\n    `)\n  }\n\n  const {type, filter, params, title, icon, id} = config\n\n  const listTitle = title ?? `Orderable ${type}`\n  const listId = id ?? `orderable-${type}`\n  const listIcon = icon ?? SortIcon\n  const typeTitle = schema.get(type)?.title ?? type\n\n  return S.listItem(type)\n    .title(listTitle)\n    .id(listId)\n    .icon(listIcon)\n    .child(\n      Object.assign(S.documentTypeList(type).serialize(), {\n        // Prevents the component from re-rendering when switching documents\n        __preserveInstance: true,\n        // Prevents the component from NOT re-rendering when switching listItems\n        key: listId,\n\n        type: 'component',\n        component: OrderableDocumentList,\n        options: {type, filter, params},\n        menuItems: [\n          S.menuItem()\n            .title(`Create new ${typeTitle}`)\n            .intent({type: 'create', params: {type}})\n            .serialize(),\n          S.menuItem().title(`Reset Order`).icon(GenerateIcon).action(`resetOrder`).serialize(),\n          S.menuItem().title(`Show Increments`).icon(SortIcon).action(`showIncrements`).serialize(),\n        ],\n      })\n    )\n    .serialize()\n}\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;;;AAEO,SAASA,6BAAT,GAAoD;EAAA;;EAAA,IAAbC,MAAa,uEAAJ,EAAI;;EACzD,IAAI,EAACA,MAAD,aAACA,MAAD,eAACA,MAAM,CAAEC,IAAT,CAAJ,EAAmB;IACjB,MAAM,IAAIC,KAAJ,2JAAN;EAKD;;EAED,IAAOD,IAAP,GAAgDD,MAAhD,CAAOC,IAAP;EAAA,IAAaE,MAAb,GAAgDH,MAAhD,CAAaG,MAAb;EAAA,IAAqBC,MAArB,GAAgDJ,MAAhD,CAAqBI,MAArB;EAAA,IAA6BC,KAA7B,GAAgDL,MAAhD,CAA6BK,KAA7B;EAAA,IAAoCC,IAApC,GAAgDN,MAAhD,CAAoCM,IAApC;EAAA,IAA0CC,EAA1C,GAAgDP,MAAhD,CAA0CO,EAA1C;EAEA,IAAMC,SAAS,GAAGH,KAAH,aAAGA,KAAH,cAAGA,KAAH,uBAAyBJ,IAAzB,CAAf;EACA,IAAMQ,MAAM,GAAGF,EAAH,aAAGA,EAAH,cAAGA,EAAH,uBAAsBN,IAAtB,CAAZ;EACA,IAAMS,QAAQ,GAAGJ,IAAH,aAAGA,IAAH,cAAGA,IAAH,GAAWK,eAAzB;EACA,IAAMC,SAAS,uCAAGC,eAAA,CAAOC,GAAP,CAAWb,IAAX,CAAH,gDAAG,YAAkBI,KAArB,iEAA8BJ,IAA7C;EAEA,OAAOc,yBAAA,CAAEC,QAAF,CAAWf,IAAX,EACJI,KADI,CACEG,SADF,EAEJD,EAFI,CAEDE,MAFC,EAGJH,IAHI,CAGCI,QAHD,EAIJO,KAJI,CAKHC,MAAM,CAACC,MAAP,CAAcJ,yBAAA,CAAEK,gBAAF,CAAmBnB,IAAnB,EAAyBoB,SAAzB,EAAd,EAAoD;IAClD;IACAC,kBAAkB,EAAE,IAF8B;IAGlD;IACAC,GAAG,EAAEd,MAJ6C;IAMlDR,IAAI,EAAE,WAN4C;IAOlDuB,SAAS,EAAEC,8BAPuC;IAQlDC,OAAO,EAAE;MAACzB,IAAD;MAAOE,MAAP;MAAeC;IAAf,CARyC;IASlDuB,SAAS,EAAE,CACTZ,yBAAA,CAAEa,QAAF,GACGvB,KADH,sBACuBO,SADvB,GAEGiB,MAFH,CAEU;MAAC5B,IAAI,EAAE,QAAP;MAAiBG,MAAM,EAAE;QAACH;MAAD;IAAzB,CAFV,EAGGoB,SAHH,EADS,EAKTN,yBAAA,CAAEa,QAAF,GAAavB,KAAb,gBAAkCC,IAAlC,CAAuCwB,mBAAvC,EAAqDC,MAArD,eAA0EV,SAA1E,EALS,EAMTN,yBAAA,CAAEa,QAAF,GAAavB,KAAb,oBAAsCC,IAAtC,CAA2CK,eAA3C,EAAqDoB,MAArD,mBAA8EV,SAA9E,EANS;EATuC,CAApD,CALG,EAwBJA,SAxBI,EAAP;AAyBD"}